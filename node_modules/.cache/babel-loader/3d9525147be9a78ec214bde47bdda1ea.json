{"ast":null,"code":"var _jsxFileName = \"/home/naz/graphql/src/pages/Login.js\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../utils/AuthContext';\nconst Login = () => {\n  const [identifier, setIdentifier] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      console.log('Attempting login...');\n      const credentials = btoa(`${identifier}:${password}`);\n      const response = await fetch('https://learn.reboot01.com/api/auth/signin', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Basic ${credentials}`\n        }\n      });\n      console.log('Response status:', response.status);\n      if (!response.ok) {\n        throw new Error('Invalid credentials');\n      }\n      const data = await response.json();\n      console.log('Response data:', data); // Log the entire response data\n\n      // Check the actual structure of your response\n      const token = data.token || data.jwt || data; // Try different possible token locations\n\n      if (!token) {\n        throw new Error('No token in response');\n      }\n      console.log('Token received:', token);\n      login(token);\n\n      // Add a small delay before navigation\n      setTimeout(() => {\n        navigate('/', {\n          replace: true\n        });\n      }, 100);\n    } catch (err) {\n      console.error('Login error:', err);\n      setError('Login failed. Please check your credentials.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      minHeight: '100vh',\n      backgroundColor: '#f0f0f0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: 'white',\n      padding: '20px',\n      borderRadius: '8px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n      maxWidth: '400px',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Sign in\"), error && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red',\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, error), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    style: {\n      width: '100%',\n      padding: '8px',\n      border: '1px solid #ddd',\n      borderRadius: '4px'\n    },\n    placeholder: \"Username or Email\",\n    value: identifier,\n    onChange: e => setIdentifier(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    style: {\n      width: '100%',\n      padding: '8px',\n      border: '1px solid #ddd',\n      borderRadius: '4px'\n    },\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: {\n      width: '100%',\n      padding: '10px',\n      backgroundColor: '#0066cc',\n      color: 'white',\n      border: 'none',\n      borderRadius: '4px',\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Sign in\"))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","Login","identifier","setIdentifier","password","setPassword","error","setError","login","navigate","handleSubmit","e","preventDefault","console","log","credentials","btoa","response","fetch","method","headers","status","ok","Error","data","json","token","jwt","setTimeout","replace","err","createElement","style","display","justifyContent","alignItems","minHeight","backgroundColor","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","background","padding","borderRadius","boxShadow","maxWidth","width","textAlign","marginBottom","color","onSubmit","type","border","placeholder","value","onChange","target","required","cursor"],"sources":["/home/naz/graphql/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../utils/AuthContext';\n\nconst Login = () => {\n    const [identifier, setIdentifier] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const { login } = useAuth();\n    const navigate = useNavigate();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        \n        try {\n            console.log('Attempting login...');\n            const credentials = btoa(`${identifier}:${password}`);\n            const response = await fetch('https://learn.reboot01.com/api/auth/signin', {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Basic ${credentials}`\n                }\n            });\n\n            console.log('Response status:', response.status);\n\n            if (!response.ok) {\n                throw new Error('Invalid credentials');\n            }\n\n            const data = await response.json();\n            console.log('Response data:', data); // Log the entire response data\n\n            // Check the actual structure of your response\n            const token = data.token || data.jwt || data; // Try different possible token locations\n            \n            if (!token) {\n                throw new Error('No token in response');\n            }\n\n            console.log('Token received:', token);\n            login(token);\n            \n            // Add a small delay before navigation\n            setTimeout(() => {\n                navigate('/', { replace: true });\n            }, 100);\n            \n        } catch (err) {\n            console.error('Login error:', err);\n            setError('Login failed. Please check your credentials.');\n        }\n    };\n\n    return (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '100vh', backgroundColor: '#f0f0f0' }}>\n            <div style={{ background: 'white', padding: '20px', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', maxWidth: '400px', width: '100%' }}>\n                <h2 style={{ textAlign: 'center', marginBottom: '20px' }}>Sign in</h2>\n                \n                {error && (\n                    <div style={{ color: 'red', marginBottom: '10px' }}>{error}</div>\n                )}\n\n                <form onSubmit={handleSubmit}>\n                    <div style={{ marginBottom: '15px' }}>\n                        <input\n                            type=\"text\"\n                            style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px' }}\n                            placeholder=\"Username or Email\"\n                            value={identifier}\n                            onChange={(e) => setIdentifier(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <div style={{ marginBottom: '15px' }}>\n                        <input\n                            type=\"password\"\n                            style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px' }}\n                            placeholder=\"Password\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <button \n                        type=\"submit\" \n                        style={{\n                            width: '100%',\n                            padding: '10px',\n                            backgroundColor: '#0066cc',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '4px',\n                            cursor: 'pointer'\n                        }}\n                    >\n                        Sign in\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}